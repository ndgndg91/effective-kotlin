# knowledge 를 반복하여 사용하지 말라

## knowledge?

"의도적인 정보" 코드 또는 데이터로 표현가능하다. 알고리즘의 작동 방식, UI 형태, 우리가 원하는 모든 결과 등이 모두 "의도적인 정보" 이며, knowledge 이다.
크게 두가지를 뽑는다면
1. 로직(logic): 프로그램이 어떠한 식으로 동작하는지와 프로그램이 어떻게 보이는지
2. 공통 알고리즘(common algorithm): 원하는 동작을 하기 위한 알고리즘

둘의 가장 큰차이점은 시간에 따른 변화이다. 비즈니스 로직은 시간이 지나면서 계속해서 변하지만 공통 알고리즘은 비교적 적게 변한다.

## 모든 것은 변한다

기술, 언어, 라이브러리, 아키텍쳐, 설계 UI 디자인과 기술 표준 그리고 고객에 대한 이해 등 모든것이 변한다. 
오늘날의 대부분의 프로젝트는 몇 달마다 요구 사항과 내부적인 구조를 계속해서 변경해야한다. 이는 바람직한 일이다.
모든 것이 변화할 때 우리는 대비를 해야한다. 변화에 가장 큰 적은 knowledge 가 반복되어 있는 부분이다.
반복이 많다면 산탄총 수술(Shotgun surgery) 이 발생한다. 간단한 예를 들어보자.
1. 프로젝트 여러 곳에서 사용되고 있는 범용 버튼의 디자인이 변경 되었을 때
2. 테이블 이름 변경이 필요할 때, 모든 SQL 구문을 변경해야된다.

knowledge 의 반복은 확장성을 막고 쉽게 깨질수 있다. 

## 언제 코드를 반복해도 될까?

독립적인 변경이 필요하다면 잘못된 추출이다. 신중하지 못한 추출은 변경을 더 어렵게 만들어 버린다. 또한 구성을 읽을 때 더 어려워 진다.
두 코드가 같은 knowledge 를 나타내는지 다른 knowledge 를 나타내는지는 "함께 변경될 가능성이 높은가? 따로 변경될 가능성이 높은가" 라는 질문으로 어느정도 결정할 수 있다.


## 정리

많은 개발자는 'Don't Repeat Yourself' 라는 문장을 엄격하게 지키려고 비슷해 보이는 코드는 모두 추출하려는 경향이 있다.
극단적인 것은 언제나 좋지 안핟. 정보 시스템 설계는 예술의 영역과 비슷하다. 수많은 시간과 연습이 필요하다.